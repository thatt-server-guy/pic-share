{"ast":null,"code":"var _jsxFileName = \"/home/usama/PicShare/client/src/components/Upload/ImageUpload.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { uploadImage } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageUpload = ({\n  onUploadSuccess\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [caption, setCaption] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!file) {\n      setError('Please select an image');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const formData = new FormData();\n      formData.append('image', file);\n      formData.append('caption', caption);\n      await uploadImage(formData);\n      onUploadSuccess();\n      setFile(null);\n      setCaption('');\n    } catch (err) {\n      setError(err.message || 'Failed to upload image');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-500\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Select Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"image\",\n        accept: \"image/*\",\n        onChange: e => {\n          var _e$target$files;\n          return setFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n        },\n        className: \"mt-1 block w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"caption\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Caption\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"caption\",\n        value: caption,\n        onChange: e => setCaption(e.target.value),\n        className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !file || loading,\n      className: \"bg-blue-500 text-white px-4 py-2 rounded disabled:opacity-50\",\n      children: loading ? 'Uploading...' : 'Upload'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(ImageUpload, \"x/Ym7DXUeFFt5Zy+J0n7gukDXXE=\");\n_c = ImageUpload;\nexport default ImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["React","useState","uploadImage","jsxDEV","_jsxDEV","ImageUpload","onUploadSuccess","_s","file","setFile","caption","setCaption","loading","setLoading","error","setError","handleSubmit","e","preventDefault","formData","FormData","append","err","message","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","accept","onChange","_e$target$files","target","files","required","value","disabled","_c","$RefreshReg$"],"sources":["/home/usama/PicShare/client/src/components/Upload/ImageUpload.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { uploadImage } from '../../services/api';\n\ninterface ImageUploadProps {\n    onUploadSuccess: () => void;\n}\n\nconst ImageUpload: React.FC<ImageUploadProps> = ({ onUploadSuccess }) => {\n    const [file, setFile] = useState<File | null>(null);\n    const [caption, setCaption] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!file) {\n            setError('Please select an image');\n            return;\n        }\n\n        setLoading(true);\n        setError('');\n\n        try {\n            const formData = new FormData();\n            formData.append('image', file);\n            formData.append('caption', caption);\n\n            await uploadImage(formData);\n            onUploadSuccess();\n            setFile(null);\n            setCaption('');\n        } catch (err: any) {\n            setError(err.message || 'Failed to upload image');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && <div className=\"text-red-500\">{error}</div>}\n            <div>\n                <label htmlFor=\"image\" className=\"block text-sm font-medium text-gray-700\">\n                    Select Image\n                </label>\n                <input\n                    type=\"file\"\n                    id=\"image\"\n                    accept=\"image/*\"\n                    onChange={(e) => setFile(e.target.files?.[0] || null)}\n                    className=\"mt-1 block w-full\"\n                    required\n                />\n            </div>\n            <div>\n                <label htmlFor=\"caption\" className=\"block text-sm font-medium text-gray-700\">\n                    Caption\n                </label>\n                <input\n                    type=\"text\"\n                    id=\"caption\"\n                    value={caption}\n                    onChange={(e) => setCaption(e.target.value)}\n                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\n                    required\n                />\n            </div>\n            <button\n                type=\"submit\"\n                disabled={!file || loading}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded disabled:opacity-50\"\n            >\n                {loading ? 'Uploading...' : 'Upload'}\n            </button>\n        </form>\n    );\n};\n\nexport default ImageUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}